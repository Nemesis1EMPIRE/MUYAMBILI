<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUYAMBILI - Votre plateforme de lecture</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- Background Image Fixe -->
    <div class="background-image"></div>

    <!-- Top App Bar -->
    <header class="topappbar">
        <div class="topappbar-left">
            <div class="logo">
                <img src="../assets/images/logo.png" alt="MUYAMBILI Logo" class="logo-image">
                <span class="logo-text">MUYAMBILI</span>
            </div>
        </div>
        
        <div class="topappbar-center">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" placeholder="Rechercher un livre, auteur ou genre...">
                <button id="searchBtn" class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        
        <div class="topappbar-right">
            <!-- Espace pour éléments futurs -->
        </div>
    </header>

    <!-- Navigation Latérale (Desktop) -->
    <nav class="sidebar">
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="../index.html" class="nav-link">
                    <i class="fas fa-home nav-icon"></i>
                    <span class="nav-text">Accueil</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="library.html" class="nav-link">
                    <i class="fas fa-book nav-icon"></i>
                    <span class="nav-text">Livres</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account.html" class="nav-link active">
                    <i class="fas fa-user nav-icon"></i>
                    <span class="nav-text">Compte</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="contact.html" class="nav-link">
                    <i class="fas fa-envelope nav-icon"></i>
                    <span class="nav-text">Contact</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Navigation Mobile (Bottom) -->
    <nav class="bottom-nav">
        <ul class="bottom-nav-menu">
            <li class="nav-item">
                <a href="../index.html" class="nav-link">
                    <i class="fas fa-home nav-icon"></i>
                    <span class="nav-text">Accueil</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="library.html" class="nav-link">
                    <i class="fas fa-book nav-icon"></i>
                    <span class="nav-text">Livres</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account.html" class="nav-link active">
                    <i class="fas fa-user nav-icon"></i>
                    <span class="nav-text">Compte</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="contact.html" class="nav-link">
                    <i class="fas fa-envelope nav-icon"></i>
                    <span class="nav-text">Contact</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Contenu Principal -->
    <main class="main-content">
        <!-- Page Compte -->
        <section id="account-page" class="page active">
            <div class="account-container">
                <div class="account-header">
                    <h1 class="account-title">Mon Compte</h1>
                    <p class="account-subtitle">Connectez-vous ou créez un compte</p>
                </div>

                <div class="auth-buttons">
                    <button class="auth-btn signin-btn" onclick="openAuthModal('login')">
                        <i class="fas fa-sign-in-alt"></i>
                        Se connecter
                    </button>
                    
                    <button class="auth-btn signup-btn" onclick="openAuthModal('signup')">
                        <i class="fas fa-user-plus"></i>
                        S'inscrire
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal Auth -->
    <div id="authModal" class="modal">
        <div class="auth-container">
            <div class="auth-background"></div>
            <div class="auth-form-container">
                <span class="close-modal" onclick="closeAuthModal()">&times;</span>
                
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login" onclick="switchToTab('login')">Connexion</button>
                    <button class="auth-tab" data-tab="signup" onclick="switchToTab('signup')">Inscription</button>
                </div>

                <!-- Formulaire Connexion -->
                <form id="loginForm" class="auth-form active">
                    <div class="form-group">
                        <input type="email" id="loginEmail" placeholder="Email" required>
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="loginPassword" placeholder="Mot de passe" required>
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                    <button type="submit" class="auth-submit-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        Se connecter
                    </button>
                </form>

                <!-- Formulaire Inscription -->
                <form id="signupForm" class="auth-form">
                    <div class="form-group">
                        <input type="text" id="signupUsername" placeholder="Nom d'utilisateur" required>
                        <i class="fas fa-user input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="email" id="signupEmail" placeholder="Email" required>
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupPassword" placeholder="Mot de passe" required minlength="6">
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupConfirmPassword" placeholder="Confirmer le mot de passe" required>
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                    <button type="submit" class="auth-submit-btn">
                        <i class="fas fa-user-plus"></i>
                        S'inscrire
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function openAuthModal(tab) {
            document.getElementById('authModal').style.display = 'block';
            switchToTab(tab);
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function switchToTab(tabName) {
            // Mettre à jour les tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.tab === tabName);
            });

            // Mettre à jour les forms
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.toggle('active', form.id === tabName + 'Form');
            });
        }

        // Fermer modal en cliquant en dehors
        document.getElementById('authModal').addEventListener('click', function(e) {
            if (e.target.id === 'authModal') {
                closeAuthModal();
            }
        });
    </script>

    <!-- Scripts Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    <script src="../js/supabase.js"></script>
    <script src="../js/auth.js"></script>
</body>
</html>
